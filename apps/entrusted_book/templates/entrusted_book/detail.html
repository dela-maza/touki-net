<!DOCTYPE html>
<!-- apps/entrusted_book/templates/entrusted_book/_detail.html -->
<html lang="ja">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Entrusted Books</title>

    <!-- CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/spacing.css') }}">  <!-- 4pxグリッド utilities -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/component/page-header.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/component/tooltip.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/layout/toolbar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/util.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/component/btn-group.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/component/btn.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/pages/index-table.css') }}">
</head>
<body>

<header class="page-header">
    <div class="container">
        <div class="page-header__inner">
            <h1 class="page-header__title">
                <img src="{{ url_for('static', filename='icon/24/book.svg') }}" alt="book icon" width="20" height="20">
                <span>Entrusted Books</span>
            </h1>
        </div>
    </div>
</header>
<div class="detail-section">
    <div class="section-header">
        <h3 class="detail-title">
            <img src="{{ url_for('static', filename='icon/24/book.svg') }}" alt="" width="20" height="20">
            <span>Entrusted Book</span>
        </h3>
        <div class="btn-group">
            <a class="btn" href="{{ url_for('entrusted_book.edit', book_id=book.id) }}">
                <img src="{{ url_for('static', filename='icon/16/pencil.svg') }}" alt="">
                Edit
            </a>
            <a class="btn" href="{{ url_for('entrusted_book.index') }}">
                <img src="{{ url_for('static', filename='icon/16/list.svg') }}" alt="">
                Books
            </a>
        </div>
    </div>

    <article class="card">
        <header class="card-header">
            <div class="flex-align-center gap-2">
                {{ book.name or 'No title' }}
            </div>
            <div class="row-actions">
                <a class="btn icon" href="{{ url_for('entrusted_book.edit', book_id=book.id) }}">
                    <img src="{{ url_for('static', filename='icon/16/pencil.svg') }}" alt="edit">
                </a>
                <a class="btn icon" href="{{ url_for('entrusted_book.confirm_delete', book_id=book.id) }}">
                    <img src="{{ url_for('static', filename='icon/16/trash.svg') }}" alt="delete">
                </a>
            </div>
        </header>

        <div class="card-body">
            <dl class="meta">
                <dt>ID</dt>
                <dd>{{ book.id }}</dd>
                <dt>Name</dt>
                <dd>{{ book.name or '-' }}</dd>
                <dt>Note</dt>
                <dd>{{ book.note or '-' }}</dd>
                <dt>Contract Date</dt>
                <dd>{{ book.contract_date.strftime('%Y-%m-%d') if book.contract_date else '-' }}</dd>
                <dt>Execution Date</dt>
                <dd>{{ book.execution_date.strftime('%Y-%m-%d') if book.execution_date else '-' }}</dd>
            </dl>
        </div>

        <div class="card-footer">
            <div class="footer-left">
                updated: {{ book.updated_at.strftime('%Y-%m-%d %H:%M') if book.updated_at else '' }}
            </div>
            <div class="footer-right">
                <a class="btn icon" href="{{ url_for('client.create', entrusted_book_id=book.id) }}">
                    <img src="{{ url_for('static', filename='icon/16/person.svg') }}" alt="new client">
                </a>
            </div>
        </div>
    </article>
</div>